
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assignment 1 &#8212; EOSC211 - Computer Methods for Earth, Ocean, and Atmospheric Scientists</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Loops" href="../wk06/loops.html" />
    <link rel="prev" title="Lab Week 5" href="../wk05/lab_wk5/lab_wk5.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">EOSC211 - Computer Methods for Earth, Ocean, and Atmospheric Scientists</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../announcements.html">
   Course Home/Announcements
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 1 - Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus/syllabus.html">
   Course Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus/covid_statements.html">
   Covid Safety in the Classroom
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus/schedule_F2021.html">
   Course Schedule - Fall Semester 2021
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus/worksheet_steps_in_problem_solving.html">
   Steps In Problem Solving
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 2 - Data Types
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk02/data_types.html">
   Data Types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk02/some_review_plus_built_in_functions_arrays_preview.html">
   Some Review Plus Built-In Functions, Arrays Preview
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 3 - Data Structures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk03/data_structures.html">
   Data Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk03/data_structures_ii.html">
   Data Structures II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exchange/e211/outbound/week3_lab/lab_wk3.html">
   Lab Week 3
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 4 - Scientific Figures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk04/making_plots.html">
   Making Plots
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk04/lab_wk4/lab_wk4.html">
   Lab Week 4
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 5 - Computer Logic
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk05/logic.html">
   Logic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk05/complicated_logic.html">
   More Complicated Logic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk05/lab_wk5/lab_wk5.html">
   Lab Week 5
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Assignment 1
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Assignment 1
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 6 - Loops
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk06/loops.html">
   Loops
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk06/loops_ii.html">
   Loops II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk06/lab_wk6/lab_wk6.html">
   Lab Week 6
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 8 - Functions
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk08/functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk08/functions_ii.html">
   Functions II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk08/lab_wk8/lab_wk8.html">
   Lab Week 8
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 9 - Debugging
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk09/debugging.html">
   Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk09/debugging_2.html">
   Debugging II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk09/lab_wk9/lab_wk9.html">
   Lab Week 9
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 10 - Developing Workflows
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk10/dictionaries_and_f_strings.html">
   Dictionaries, F String Literals
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 11 - Vectorization and Speed
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk11/lab_wk11/lab_wk11.html">
   Lab Week 11
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 12
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../wk12/file_io_practice.html">
   Practice with loops, if, strings,  file IO, logical indexing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../wk12/exercises.html">
   Exercises
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/assignment01/ast1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/assignment01/ast1.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/phaustin/eosc211_students/e211_live_main?urlpath=tree/assignment01/ast1.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://e211hub.eoastest5.xyz/hub/user-redirect/git-pull?repo=https://github.com/phaustin/eosc211_students&urlpath=tree/eosc211_students/assignment01/ast1.md&branch=e211_live_main"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#eosc-211">
   EOSC 211
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#notes-for-andrew">
     notes for andrew:
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-summary-plot">
   Part 1: Summary Plot
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#your-task">
     Your Task
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-1-acquire-all-the-data">
       Step 1: Acquire all the data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-2-use-conditional-sampling">
       Step 2: Use conditional sampling
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-statistics">
   Part 2: Statistics
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="assignment-1">
<h1>Assignment 1<a class="headerlink" href="#assignment-1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="eosc-211">
<h2>EOSC 211<a class="headerlink" href="#eosc-211" title="Permalink to this headline">¶</a></h2>
<p>logistics, partner collaboration, due dates</p>
<p>LG’s:</p>
<ul class="simple">
<li><p>manipulate datetime objects, timedeltas</p></li>
<li><p>use dictionaries to access complex datasets</p></li>
<li><p>recycle old code for new purposes (use the map from lab 3!)</p></li>
</ul>
<div class="section" id="notes-for-andrew">
<h3>notes for andrew:<a class="headerlink" href="#notes-for-andrew" title="Permalink to this headline">¶</a></h3>
<p>part 1: I can use if elif else, loops, numpy arrays, logical indexing, annotate, subplots, type casting</p>
<p>part 2: I can use f strings, maybe dictionaries, maybe functions</p>
</div>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The ocean in the Salish Sea is affected by tidal forces,  wind, and spatial changes in density,  all of which drive currents.  What do these currents do?  If we release a floating object in the Strait of Georgia (the part of the Salish Sea right beside Vancouver), where will it end up?  Simple questions like turn out to be surprisingly difficult to answer. At present, we do know that there is an “estuarine” circulation in the Salish Sea.  Fresh water flows in from the Fraser River just south of Richmond.  This fresh water eventually ends up in the Pacific*.  So, there is a mean flow of surface water out of the Fraser, south past Victoria and then west out to the Pacific<span class="math notranslate nohighlight">\(^†\)</span>.  We also know that it takes a few weeks to get there, and so objects floating in the Strait probably also take about that long to leave our waters. But we would like to get a better idea of what the mean speed of their drift is, and how this mean might change from time to time.</p>
<p>Over the past few years, the <span class="xref myst">ODL drifters project</span> has been releasing GPS-tracked drifters into the Strait of Georgia near the mouth of the Fraser River, in order to better understand how the surface water flows out to the Pacific. In the assignment, you will analyze some of the data from this project.</p>
<hr class="docutils" />
<p>* If it didn’t, the whole area would eventually be full of fresh water only, but it isn’t</p>
<p>† We think that very little goes around the northern tip of Vancouver Island because there is only a narrow channel separating it from the mainland there</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.io</span> <span class="kn">import</span> <span class="n">loadmat</span>
<span class="kn">from</span> <span class="nn">e211_lib</span> <span class="kn">import</span> <span class="n">e211</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># There is a function in the library to convert the original .mat file to the new format</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">e211</span><span class="o">.</span><span class="n">clean_a1_data</span><span class="p">(</span><span class="s2">&quot;Drifter_dataset.mat&quot;</span><span class="p">)</span>

<span class="c1"># or load the .npy file with</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;drifter_data.npy&quot;</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="part-1-summary-plot">
<h2>Part 1: Summary Plot<a class="headerlink" href="#part-1-summary-plot" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">drifter_data.npy</span></code> file contains all of the data from 153 drifters. The <code class="docutils literal notranslate"><span class="pre">.npy</span></code> extension is a file format specific to numpy arrays. Each element of the array contains a <em>dictionary</em> with the following <strong>key:value</strong> pairs:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;drifter_id&quot;:        &lt;integer&gt; a unique identifier (e.g., labelled # on drifter body) 
&quot;design&quot;:            &lt;integer&gt; drifter design code (1-6)
&quot;tzone&quot;:             &lt;str&gt; Time zone
&quot;datetime&quot;:          &lt;datetime object&gt; the dates associated with each reported lat/lon position
&quot;lons&quot;:              &lt;float64&gt; longitude in decimal degrees
&quot;lats&quot;:              &lt;float64&gt; latitude in decimal degrees
&quot;comment&quot;:           &lt;str&gt; metadata
&quot;at_sea&quot;:            &lt;int&gt; flag for each point, classifying it as:
                     1 - good - at sea, freely floating (valid)
                     2 - bad  - at sea but trapped in rocky intertidal
                                (floating but not free)
                     3 - bad  - on land (grounded, test data, etc.)
                     4 - bad - at sea (large GPS error, on ship, etc.)
&quot;ends_on_land&quot;:      &lt;boolean&gt; if the drifter ends by grounding or not
                     True - grounded at or just after last at_sea==1 point
                     False - track ends at sea
&quot;found_on_land&quot;:     &lt;boolean&gt; If the drifter was found by a human (True) on land
                     or if it was never recovered (False)
&quot;launchdate&quot;:        &lt;datetime object&gt; the date the drifter was launched 
                     format = (Year, Month, Day, Hour, Minute, Second, Microsecond)
&quot;enddate&quot;:           &lt;datetime object&gt; the date the drifter went offline
&quot;lifetime&quot;:          &lt;timedelta object&gt; the length of the drifter&#39;s life
&quot;refloated&quot;:         &lt;boolean&gt; if the drifter went to at_sea != 1 and then resumed 
                     transmitting with at_sea == 1
&quot;first_ground_date&quot;: &lt;datetime obj&gt; date of first status code != 1. If the drifter 
                     never grounded, this is equal to &quot;enddate&quot;
&quot;first_lifetime&quot;:    &lt;timedelta object&gt; length of time passed between launch and first 
                     status code != 1
</pre></div>
</div>
<p>Note that since all the drifters have different lifetimes, the dataset associated with each drifter will be a different length. Keep this in mind when using loops and indexing to access data, as it may cause errors.</p>
<p>All 153 tracks start in the vicinity of Sand Heads, at the mouth of the Fraser River. These include tracks where the drifter never touches land and eventually dies at sea, and tracks where the drifter grounds. For times between <code class="docutils literal notranslate"><span class="pre">launchdate</span></code> and
<code class="docutils literal notranslate"><span class="pre">first_ground_date</span></code> (or <code class="docutils literal notranslate"><span class="pre">enddate</span></code> if the drifter doesn’t ground), points with <code class="docutils literal notranslate"><span class="pre">at_sea</span> <span class="pre">==</span> <span class="pre">1</span></code> are valid points; if any
<code class="docutils literal notranslate"><span class="pre">at_sea</span> <span class="pre">!=</span> <span class="pre">1</span></code>  then the corresponding <code class="docutils literal notranslate"><span class="pre">datetime</span></code>,<code class="docutils literal notranslate"><span class="pre">lats</span></code> and <code class="docutils literal notranslate"><span class="pre">lons</span></code> points are not valid for various reasons. Sometimes
grounded drifters refloat after some time ashore and drift further, but we will ignore any data that were acquired
after a grounding.</p>
<div class="section" id="your-task">
<h3>Your Task<a class="headerlink" href="#your-task" title="Permalink to this headline">¶</a></h3>
<p>First, write code to show all the drift tracks up until either the point of first grounding, or the end of the track if the drifter does not ground. The track lines should be coloured to indicate the location of the track endpoint:</p>
<p>• Tracks that exit the northern Strait (i.e. with end point west of 125.19◦W, north of 50.0◦N) should be green.</p>
<p>• Tracks that leave the southern Strait (roughly, with end points south of about 48.78◦N latitude, but note that
one track that completely leaves the Strait this way ends up north of this latitude and you should account for
this) should be red.</p>
<p>• Tracks that end within the Strait of Georgia should be light blue.</p>
<p>As well as showing all the tracks, you should also label the starting and end points:</p>
<p>• Label the track starting points with dark blue markers (these should all be near the mouth of the Fraser58
River).</p>
<p>• Label track end points at time of first grounding (if they ground) with green markers.</p>
<p>• Label track end points if the drifter never grounds with red markers.</p>
<p>You should use <code class="docutils literal notranslate"><span class="pre">if</span></code> statements and/or conditional sampling to determine into which category a given track belongs.
Finally, add to the plot a text line that states how many tracks fall into each category - something like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="n">tracks</span> <span class="n">ground</span>
<span class="mi">21</span> <span class="n">tracks</span> <span class="n">leave</span> <span class="n">the</span> <span class="n">SoG</span> <span class="n">to</span> <span class="n">the</span> <span class="n">south</span>
<span class="mi">2</span> <span class="n">tracks</span> <span class="n">leave</span> <span class="n">the</span> <span class="n">SoG</span> <span class="n">to</span> <span class="n">the</span> <span class="n">north</span>
</pre></div>
</div>
<p>(or whatever the numbers are) To hand in Part 1, provide the code and the plot. It should look something like Figure 1 (with the added text). Note - READ THE REST OF THE ASSIGNMENT so you can see what you have to do for the next part while answering this part. Also, the Handy Tips at the end will be helpful.</p>
<div class="section" id="step-1-acquire-all-the-data">
<h4>Step 1: Acquire all the data<a class="headerlink" href="#step-1-acquire-all-the-data" title="Permalink to this headline">¶</a></h4>
<p>Several possible avenues here…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">drifters</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;drifter_data.npy&quot;</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">basemap_in</span> <span class="o">=</span> <span class="n">loadmat</span><span class="p">(</span><span class="s2">&quot;BCcoastline.mat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the drifters</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">dat</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dat</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">dat</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ast1_5_0.png" src="../_images/ast1_5_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the original basemap from matlab.. this is hard to parse with matplotlib</span>
<span class="n">basemap</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;k&quot;</span><span class="p">:</span><span class="n">basemap_in</span><span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
           <span class="s2">&quot;lons&quot;</span><span class="p">:</span><span class="n">basemap_in</span><span class="p">[</span><span class="s2">&quot;ncst&quot;</span><span class="p">][:,</span><span class="mi">0</span><span class="p">],</span>
           <span class="s2">&quot;lats&quot;</span><span class="p">:</span><span class="n">basemap_in</span><span class="p">[</span><span class="s2">&quot;ncst&quot;</span><span class="p">][:,</span><span class="mi">1</span><span class="p">]}</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">basemap</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">basemap</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ast1_6_0.png" src="../_images/ast1_6_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># recycle the basemap from lab 3! good teachable</span>
<span class="c1"># this is line for line the lab 3 tutorial section</span>

<span class="n">raw_bathdata</span> <span class="o">=</span> <span class="n">e211</span><span class="o">.</span><span class="n">load_mat</span><span class="p">(</span><span class="s2">&quot;Bathyfile.mat&quot;</span><span class="p">)</span>
<span class="n">bathdata_fixed</span> <span class="o">=</span> <span class="n">raw_bathdata</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">latlen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">bathdata_fixed</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># assign the height and width of the image to new variables</span>
<span class="n">lonlen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">bathdata_fixed</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">lats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">latlen</span><span class="p">)</span> <span class="c1"># create arrays for lat and lon</span>
<span class="n">lons</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">110</span><span class="p">,</span> <span class="n">lonlen</span><span class="p">)</span>

<span class="n">bath_zoomed</span> <span class="o">=</span> <span class="n">bathdata_fixed</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="mi">500</span><span class="p">:</span><span class="mi">900</span><span class="p">]</span>
<span class="n">lats_zoomed</span> <span class="o">=</span> <span class="n">lats</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">150</span><span class="p">]</span>
<span class="n">lons_zoomed</span> <span class="o">=</span> <span class="n">lons</span><span class="p">[</span><span class="mi">500</span><span class="p">:</span><span class="mi">900</span><span class="p">]</span> <span class="c1"># make sure the slices match between the coordinates and the original data</span>

<span class="c1"># plot the basemap and the drifters together (first pass)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">lons_zoomed</span><span class="p">,</span> <span class="n">lats_zoomed</span><span class="p">,</span> <span class="n">bath_zoomed</span><span class="p">)</span>
<span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">drifters</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ast1_7_0.png" src="../_images/ast1_7_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># readjust the map size to clearly show the drifters, and use conditional sampling</span>
<span class="c1"># to make our map only show land and sea rather than all elevetions -- less clutter</span>
<span class="n">lats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">latlen</span><span class="p">)</span>  <span class="c1"># create arrays for lat and lon</span>
<span class="n">lons</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">110</span><span class="p">,</span> <span class="n">lonlen</span><span class="p">)</span>

<span class="n">xmin</span> <span class="o">=</span> <span class="mi">690</span>
<span class="n">xmax</span> <span class="o">=</span> <span class="mi">850</span>

<span class="n">ymin</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">ymax</span> <span class="o">=</span> <span class="mi">120</span>

<span class="n">bath_zoomed</span> <span class="o">=</span> <span class="n">bathdata_fixed</span><span class="p">[</span><span class="n">ymin</span><span class="p">:</span><span class="n">ymax</span><span class="p">,</span> <span class="n">xmin</span><span class="p">:</span><span class="n">xmax</span><span class="p">]</span>
<span class="n">lats_zoomed</span> <span class="o">=</span> <span class="n">lats</span><span class="p">[</span><span class="n">ymin</span><span class="p">:</span><span class="n">ymax</span><span class="p">]</span>
<span class="n">lons_zoomed</span> <span class="o">=</span> <span class="n">lons</span><span class="p">[</span><span class="n">xmin</span><span class="p">:</span><span class="n">xmax</span><span class="p">]</span>

<span class="c1"># recolor the map</span>
<span class="c1">#bath_zoomed[bath_zoomed &lt;= 0] = -1000</span>
<span class="c1">#bath_zoomed[bath_zoomed &gt; 50] = 1000</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">lons_zoomed</span><span class="p">,</span> <span class="n">lats_zoomed</span><span class="p">,</span> <span class="n">bath_zoomed</span><span class="p">)</span> <span class="c1">#, cmap=&quot;binary&quot;)</span>
<span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">drifters</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ast1_8_0.png" src="../_images/ast1_8_0.png" />
</div>
</div>
<p>good start, fix this later on</p>
</div>
<div class="section" id="step-2-use-conditional-sampling">
<h4>Step 2: Use conditional sampling<a class="headerlink" href="#step-2-use-conditional-sampling" title="Permalink to this headline">¶</a></h4>
<p>Use conditional sampling to trim the drifter tracks and choose colors according to the criteria specified above</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># how to conditionally sample a dictionary for a single element</span>
<span class="n">my_drifter</span> <span class="o">=</span> <span class="n">drifters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;before conditional sampling:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_drifter</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;after conditional sampling:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_drifter</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="n">my_drifter</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">my_drifter</span><span class="p">[</span><span class="s2">&quot;first_ground_date&quot;</span><span class="p">]]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>before conditional sampling:
562
after conditional sampling:
183
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show all the drift tracks up until either the point of first grounding, </span>
<span class="c1"># or the end of the track if the drifter does not ground.</span>
<span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">drifters</span><span class="p">:</span>
    <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;first_ground_date&quot;</span><span class="p">]]</span>
    <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">][</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;first_ground_date&quot;</span><span class="p">]]</span>
    <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">][</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;datetime&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;first_ground_date&quot;</span><span class="p">]]</span>    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add to the plot a text line that states how many tracks fall into each category</span>
<span class="n">north_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">south_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sog_count</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Do the plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">lons_zoomed</span><span class="p">,</span> <span class="n">lats_zoomed</span><span class="p">,</span> <span class="n">bath_zoomed</span><span class="p">)</span>  <span class="c1"># , cmap=&quot;binary&quot;)</span>
<span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">drifters</span><span class="p">:</span>
    <span class="c1"># Tracks that exit the northern Strait (i.e. with end point west of 125.19◦W, north of 50.0◦N) should be GREEN</span>
    <span class="k">if</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">125.19</span> <span class="ow">and</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">50.0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;exit north&quot;</span><span class="p">)</span>
        <span class="n">north_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Tracks that leave the southern Strait (roughly, with end points south of about 48.78◦N latitude, but note that</span>
    <span class="c1"># one track that completely leaves the Strait this way ends up north of this latitude and you should account for</span>
    <span class="c1"># this) should be RED.</span>
    <span class="k">elif</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">48.78</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;exit south&quot;</span><span class="p">)</span>
        <span class="n">south_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Tracks that end within the Strait of Georgia should be LIGHT BLUE.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">],</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightblue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;SoG&quot;</span><span class="p">)</span>
        <span class="n">sog_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Label the track starting points with dark blue markers</span>
    <span class="c1"># (these should all be near the mouth of the Fraser River).</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
        <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;starting point&quot;</span><span class="p">,</span>
        <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Label track end points at time of first grounding (if they ground) with green markers.</span>
    <span class="c1"># Label track end points if the drifter never grounds with red markers.</span>
    <span class="k">if</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;first_ground_date&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;enddate&quot;</span><span class="p">]:</span>  <span class="c1"># never grounds</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ends at sea&quot;</span><span class="p">,</span>
            <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lons&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">dr</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
            <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ends on land&quot;</span><span class="p">,</span>
            <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">)</span>

<span class="c1">#ax.legend() # generates 153 * 6 legend entries. debug!</span>
<span class="n">text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sog_count</span><span class="si">}</span><span class="s2"> tracks ground</span><span class="se">\n</span><span class="si">{</span><span class="n">north_count</span><span class="si">}</span><span class="s2"> tracks leave the SoG to the </span><span class="se">\</span>
<span class="s2">North</span><span class="se">\n</span><span class="si">{</span><span class="n">south_count</span><span class="si">}</span><span class="s2"> tracks leave the SoG to the South&quot;</span>
<span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">125</span><span class="p">,</span><span class="mf">47.5</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="s2">&quot;large&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Longitude (deg)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Latitude (deg)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Summary Plot of Drifter Tracks in the Straight of Georgia&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ast1_13_0.png" src="../_images/ast1_13_0.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="part-2-statistics">
<h2>Part 2: Statistics<a class="headerlink" href="#part-2-statistics" title="Permalink to this headline">¶</a></h2>
<p>Now we want to get some summary statistics.</p>
<ol>
<li><p>First, make a histogram plot showing the time to grounding, for all drifters that ground. Calculate the mean
and standard deviation of this time, and add this to the plot.</p></li>
<li><p>Second, plot the drifter latitude (a proxy for the distance up-Strait or down-Strait of the deployment location)
as a function of time. Use the same line colours and end point markers for grounded and at-Sea end points
that you used in Part 1.</p>
<p>Now, add a thick line that gives the <em>median</em> drifter latitude, every half-day, from the deployment time to
15 days after deployment. That is, at 0.5 days after deployment, find the latitude of all drifters still afloat and
alive, and take the median. Repeat for 1 day after deployment, 1.5 days after, and so on.
Also, find the MEDIAN ABSOLUTE DEVIATION (or MAD, see mad to calculate this) of the latitudes, i.e.</p>
<div class="math notranslate nohighlight">
\[
    MAD(X) ≡median(|X −median(X)|)\tag{1}
    \]</div>
<p>and plot the median <span class="math notranslate nohighlight">\(±MAD\)</span> as well.
Note that the median and the MAD are somewhat similar to the mean and standard deviation, but are less sensitive to outliers.</p>
</li>
<li><p>Finally, answer the questions</p>
<p>(a) Are the drifters moving seaward (on average)?</p>
<p>(b) How long does it take for a drifter to move from the Fraser River to the Pacific?</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">drifters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;lifetime&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>datetime.timedelta(days=14, seconds=34429, microseconds=999993)
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./assignment01"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="../wk05/lab_wk5/lab_wk5.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Lab Week 5</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="../wk06/loops.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Loops</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By UBC<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>